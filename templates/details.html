{% extends 'base.html' %}

{% block content %}
<!-- Section--> 
<section class="py-5" style="background-color:black">
  <h1 style="color:white; text-align: center;">My Profile </h1>
  <div class="container" style="max-width: 720px;"> 
    <div class="row">
      <div class="col-sm-6 col-md-4" style="padding:30px; flex:auto; align-items: center;">
        <div class="card"  style="background-image:linear-gradient(rgba(245, 248, 245, 0.87), rgba(179, 103, 141, 0.774));"">
          <img class="card-img-top" src= {{user.image_url}} alt="Card image cap">
          <div class="card-body" style="flex:auto; padding:10px;">
            <h4 class="card-title" style="text-align:center; color:rgb(12, 12, 122);"><u>{{user.first_name}} {{user.last_name}}</u></h4>


            <div class="container" style=" height: 50px; position: relative; ">
              <div class="center" style="margin: 0; position: absolute; top: 50%; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">
                <div class="btn-group"  >
                  <button id="slide_start_button" value="Start" class="btn btn-outline-dark"  style="display: inline-block; margin-right: 5px;"> <a href="/wishlists/new"><i class="fa-solid fa-clipboard-list"></i> My Wishlist </a></button>
                  <form method="POST" action="/comments/new">
                  <button id="slide_stop_button" value="Stop" class="btn btn-outline-dark" type="submit" style="display: inline-block; margin-right: 5px;"> <i class="fa-regular fa-comments"></i> Add A Feedback  </button>
                  </form>
                </div>
              </div>
            </div>
          <div class="container-fluid" style="margin:1px;">
            <ul style="margin-top:20px;"> 
              {%for comment in comments%} 
              <li style="margin-top:20px;">{{comment.text}} </li>
              <p class="text-muted">{{ comment.timestamp.strftime('%d %B %Y') }}</p>
                 {% if g.user.id == comment.user.id %}  
               <form method="POST" action="/comments/{{ comment.id }}/delete">
                <button class="btn btn-link"> <i class="fa-solid fa-trash-can"></i> Delete Feedback</button>
               </form>
               
                 {% endif %}
              {%endfor%} 
            </ul>  
          </div> 
          <div>
          {% if g.user.id == user.id %}

        <div class="container" style=" height: 50px; position: relative; ">
          <div class="center" style="margin: 0; position: absolute; top: 50%; left: 50%; -ms-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">
            <div class="btn-group"  >
              <button id="slide_start_button" value="Start" class="btn btn-outline-primary"  style="display: inline-block; margin-right: 5px;"> <a href="/users/edit"><i class="fa-solid fa-user-pen"></i> Edit Profile </a></button>
              <form method="POST" action="/users/delete" class="form-inline">
              <button id="slide_stop_button" value="Stop" class="btn btn-outline-dark" type="submit" style="display: inline-block; margin-right: 5px;"> <i class="fa-solid fa-user-xmark"></i> Delete Profile  </button>
              </form>
            </div>
          </div>
        </div>
        {%endif%}
      </div>
  </div>
</section> 



{%endblock%}




